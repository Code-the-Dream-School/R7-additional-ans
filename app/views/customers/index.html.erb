<p style="color: green"><%= notice %></p>

<h1>Customers</h1>

<div id="customers">
  <% if (@customers.length) %>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Number of Orders</th>
          <th colspan="3"></th>
        </tr>
      </thead>
      <tbody>
        <% @customers.each do |customer| %>
          <tr>
            <td><%= customer.full_name %></td>
            <td><%= customer.orders.count %></td>
            <td><%= link_to 'Show', customer, class: "btn btn-primary" %></td>
            <td><%= link_to 'Edit', edit_customer_path(customer), class: "btn btn-primary"%></td>
            <!--
            <td><%= button_to 'Delete', customer, class: "btn btn-primary", method: :delete, form: { data: { turbo_confirm: "Are you sure?" } } %></td>
            -->
            <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal-<%= customer.id%>">Delete</button></td>
          </tr>
          <%= render "deleteModal", customer: customer %>
        <% end %>
      </tbody>
    </table>
    <% else %>
    <p>There are no customers yet.</p>
    <% end %>
</div>
<%= link_to "New customer", new_customer_path, class: "btn btn-primary"  %>
